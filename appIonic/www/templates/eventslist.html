<ion-view title="Events">

    <div class="bar bar-subheader item-input-inset">
        <label class="item-input-wrapper">
            <i class="icon ion-android-search placeholder-icon"></i>
            <input id="searchKey" type="search" placeholder="Search events" ng-model="search" autocorrect="off" >
         </label>
    </div>
    <ion-content class="has-header has-subheader">
        <ion-list>
            <md-card ng-repeat="event in events | filter:search" type="item-text-wrap" class="item-avatar" ng-click="saveEvent(event)">
                <img ng-src="{{ event.image }}" flex/>
                <div id="{{ 'event-' + $index }}" class="info" >
                  <span> <strong> {{ event.title }} </strong> </span> <br />
                  <span> Expiration: {{ event.expiration |  date : format : timezone}} </span> <br />
                  <span> People needed: {{ event.thresholdPeople - event.committedPeople }} </span>
                </div>
                <span> Cost per person: ${{ event.thresholdMoney / event.thresholdPeople | number:2 }} </span> <br />
                <span> Remaining money needed: ${{ event.thresholdMoney - (event.committedPeople * (event.thresholdMoney / event.thresholdPeople)) | number:2}} </span>
            </md-card>
        </ion-list>
    </ion-content>

</ion-view>